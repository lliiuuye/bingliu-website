<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bing Liu - ä¸ªäººç½‘ç«™</title>
    <style>
        /* åŸºç¡€æ ·å¼ä¿æŒä¸å˜ */
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f4f4f4; }
        .container { max-width: 800px; margin: 20px auto; background: #fff; padding: 20px; 
                   box-shadow: 0 0 10px rgba(0,0,0,0.1); border-radius: 8px; border: 10px solid #ddd;
                   background-image: url('https://www.transparenttextures.com/patterns/arches.png'); }
        
        /* æ–°å¢æ–°é—»æ ·å¼ */
        .news-container { margin-top: 20px; padding: 15px; background-color: #fff3e0; border-radius: 5px; }
        .news-item { margin-bottom: 15px; padding: 15px; background: #fff; border-radius: 5px;
                   box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: transform 0.2s; }
        .news-item:hover { transform: translateY(-2px); }
        .news-item h3 { color: #1a237e; margin: 0 0 10px; font-size: 1.1em; }
        .news-item p { color: #666; line-height: 1.6; margin: 0 0 10px; }
        .news-item a { color: #1565c0; text-decoration: none; font-weight: bold; }
        .news-item a:hover { text-decoration: underline; }
        .loading { text-align: center; color: #666; padding: 20px; }
        .error-message { color: #c62828; padding: 15px; background: #ffebee; border-radius: 5px; }
    </style>
</head>
<body>
    <!-- åŸæœ‰å†…å®¹ä¿æŒä¸å˜ -->
    <div class="container">
        <!-- ... å…¶ä»–ä¸ªäººä¿¡æ¯éƒ¨åˆ† ... -->

        <!-- æ–°å¢æ–°é—»æ¨¡å— -->
        <div class="section">
            <h2>ğŸ“° æœ€æ–°è¡Œä¸šåŠ¨æ€</h2>
            <div class="news-container" id="news-container">
                <div class="loading">æ­£åœ¨åŠ è½½æœ€æ–°åŠ¨æ€...</div>
            </div>
        </div>
    </div>

    <script>
        // é…ç½®å‚æ•°
        const config = {
            apiKey: 'ä½ çš„APIå¯†é’¥',  // åœ¨æ­¤å¤„æ›¿æ¢ä½ çš„å®é™…APIå¯†é’¥
            apiUrl: 'https://newsapi.org/v2/top-headlines?country=us&category=technology&pageSize=5',
            fallbackApi: 'https://gnews.io/api/v4/top-headlines?category=technology&max=5'
        }

        // æ–°é—»åŠ è½½å‡½æ•°
        async function loadNews() {
            const container = document.getElementById('news-container');
            
            try {
                // é¦–é€‰APIè¯·æ±‚
                let response = await fetch(`${config.apiUrl}&apiKey=${config.apiKey}`);
                let data = await response.json();

                // å¦‚æœé¦–é€‰APIå¤±è´¥ï¼Œå°è¯•å¤‡ç”¨API
                if (!data.articles?.length) {
                    response = await fetch(`${config.fallbackApi}&apikey=${config.apiKey}`);
                    data = await response.json();
                    if (data.entries) data.articles = data.entries; // é€‚é…ä¸åŒAPIç»“æ„
                }

                renderNews(data.articles);
            } catch (error) {
                console.error('æ–°é—»åŠ è½½å¤±è´¥:', error);
                container.innerHTML = `
                    <div class="error-message">
                        âš ï¸ åŠ¨æ€åŠ è½½å¤±è´¥ï¼Œè¯·<a href="javascript:location.reload()">åˆ·æ–°é¡µé¢</a>é‡è¯•
                    </div>
                `;
            }
        }

        // æ¸²æŸ“æ–°é—»å‡½æ•°
        function renderNews(articles) {
            const container = document.getElementById('news-container');
            container.innerHTML = '';

            if (!articles?.length) {
                container.innerHTML = '<div class="error-message">æš‚æ—¶æ²¡æœ‰æœ€æ–°åŠ¨æ€</div>';
                return;
            }

            articles.forEach(article => {
                const item = document.createElement('div');
                item.className = 'news-item';
                item.innerHTML = `
                    <h3>${article.title || 'æœªå‘½åæ–°é—»'}</h3>
                    <p>${article.description || 'æš‚æ— è¯¦ç»†å†…å®¹æ‘˜è¦...'}</p>
                    ${article.url ? 
                    `<a href="${article.url}" target="_blank" rel="noopener">
                        ğŸ”— é˜…è¯»å…¨æ–‡
                    </a>` : 
                    '<span class="disabled-link">åŸæ–‡é“¾æ¥ä¸å¯ç”¨</span>'}
                    ${article.urlToImage ? 
                    `<img src="${article.urlToImage}" alt="æ–°é—»é…å›¾" 
                         style="max-width: 100%; margin-top:10px;">` : ''}
                `;
                container.appendChild(item);
            });
        }

        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        window.addEventListener('DOMContentLoaded', () => {
            loadNews();
            // æ¯30åˆ†é’Ÿè‡ªåŠ¨åˆ·æ–°
            setInterval(loadNews, 1800000);
        });
    </script>
</body>
</html>