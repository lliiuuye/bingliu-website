<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bing Liu - 个人网站</title>
    <style>
        /* 基础样式保持不变 */
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f4f4f4; }
        .container { max-width: 800px; margin: 20px auto; background: #fff; padding: 20px; 
                   box-shadow: 0 0 10px rgba(0,0,0,0.1); border-radius: 8px; border: 10px solid #ddd;
                   background-image: url('https://www.transparenttextures.com/patterns/arches.png'); }
        
        /* 新增新闻样式 */
        .news-container { margin-top: 20px; padding: 15px; background-color: #fff3e0; border-radius: 5px; }
        .news-item { margin-bottom: 15px; padding: 15px; background: #fff; border-radius: 5px;
                   box-shadow: 0 2px 4px rgba(0,0,0,0.1); transition: transform 0.2s; }
        .news-item:hover { transform: translateY(-2px); }
        .news-item h3 { color: #1a237e; margin: 0 0 10px; font-size: 1.1em; }
        .news-item p { color: #666; line-height: 1.6; margin: 0 0 10px; }
        .news-item a { color: #1565c0; text-decoration: none; font-weight: bold; }
        .news-item a:hover { text-decoration: underline; }
        .loading { text-align: center; color: #666; padding: 20px; }
        .error-message { color: #c62828; padding: 15px; background: #ffebee; border-radius: 5px; }
    </style>
</head>
<body>
    <!-- 原有内容保持不变 -->
    <div class="container">
        <!-- ... 其他个人信息部分 ... -->

        <!-- 新增新闻模块 -->
        <div class="section">
            <h2>📰 最新行业动态</h2>
            <div class="news-container" id="news-container">
                <div class="loading">正在加载最新动态...</div>
            </div>
        </div>
    </div>

    <script>
        // 配置参数
        const config = {
            apiKey: '你的API密钥',  // 在此处替换你的实际API密钥
            apiUrl: 'https://newsapi.org/v2/top-headlines?country=us&category=technology&pageSize=5',
            fallbackApi: 'https://gnews.io/api/v4/top-headlines?category=technology&max=5'
        }

        // 新闻加载函数
        async function loadNews() {
            const container = document.getElementById('news-container');
            
            try {
                // 首选API请求
                let response = await fetch(`${config.apiUrl}&apiKey=${config.apiKey}`);
                let data = await response.json();

                // 如果首选API失败，尝试备用API
                if (!data.articles?.length) {
                    response = await fetch(`${config.fallbackApi}&apikey=${config.apiKey}`);
                    data = await response.json();
                    if (data.entries) data.articles = data.entries; // 适配不同API结构
                }

                renderNews(data.articles);
            } catch (error) {
                console.error('新闻加载失败:', error);
                container.innerHTML = `
                    <div class="error-message">
                        ⚠️ 动态加载失败，请<a href="javascript:location.reload()">刷新页面</a>重试
                    </div>
                `;
            }
        }

        // 渲染新闻函数
        function renderNews(articles) {
            const container = document.getElementById('news-container');
            container.innerHTML = '';

            if (!articles?.length) {
                container.innerHTML = '<div class="error-message">暂时没有最新动态</div>';
                return;
            }

            articles.forEach(article => {
                const item = document.createElement('div');
                item.className = 'news-item';
                item.innerHTML = `
                    <h3>${article.title || '未命名新闻'}</h3>
                    <p>${article.description || '暂无详细内容摘要...'}</p>
                    ${article.url ? 
                    `<a href="${article.url}" target="_blank" rel="noopener">
                        🔗 阅读全文
                    </a>` : 
                    '<span class="disabled-link">原文链接不可用</span>'}
                    ${article.urlToImage ? 
                    `<img src="${article.urlToImage}" alt="新闻配图" 
                         style="max-width: 100%; margin-top:10px;">` : ''}
                `;
                container.appendChild(item);
            });
        }

        // 页面加载完成后执行
        window.addEventListener('DOMContentLoaded', () => {
            loadNews();
            // 每30分钟自动刷新
            setInterval(loadNews, 1800000);
        });
    </script>
</body>
</html>